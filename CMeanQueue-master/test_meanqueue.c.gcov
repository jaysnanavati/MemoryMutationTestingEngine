        -:    0:Source:test_meanqueue.c
        -:    0:Programs:3
        -:    1:
        -:    2:#include <stdbool.h>
        -:    3:#include <assert.h>
        -:    4:#include <setjmp.h>
        -:    5:#include <stdlib.h>
        -:    6:#include <stdio.h>
        -:    7:#include <string.h>
        -:    8:#include "CuTest.h"
        -:    9:
        -:   10:#include "meanqueue.h"
        -:   11:
        1:   12:void Testmeanqueue_init_is_zero(
        -:   13:    CuTest * tc
        -:   14:)
        -:   15:{
        -:   16:    void *qu;
        -:   17:
        1:   18:    qu = meanqueue_new(5);
        -:   19:
        1:   20:    CuAssertTrue(tc, 0 == meanqueue_get_value(qu));
        -:   21:
        1:   22:    meanqueue_free(qu);
        1:   23:}
        -:   24:
        1:   25:void Testmeanqueue_offer_populates_correct_mean(
        -:   26:    CuTest * tc
        -:   27:)
        -:   28:{
        -:   29:    void *qu;
        -:   30:
        1:   31:    qu = meanqueue_new(5);
        -:   32:
        1:   33:    meanqueue_offer(qu, 5);
        1:   34:    CuAssertTrue(tc, 1 == meanqueue_get_value(qu));
        -:   35:
        1:   36:    meanqueue_free(qu);
        1:   37:}
        -:   38:
        1:   39:void Testmeanqueue_offer_populates_correct_mean2(
        -:   40:    CuTest * tc
        -:   41:)
        -:   42:{
        -:   43:    void *qu;
        -:   44:
        1:   45:    qu = meanqueue_new(5);
        -:   46:
        1:   47:    meanqueue_offer(qu, 5);
        1:   48:    meanqueue_offer(qu, 1);
        1:   49:    meanqueue_offer(qu, 2);
        1:   50:    meanqueue_offer(qu, 4);
        1:   51:    meanqueue_offer(qu, 3);
        1:   52:    CuAssertTrue(tc, 3 == (int) meanqueue_get_value(qu));
        -:   53:
    #####:   54:    meanqueue_free(qu);
    #####:   55:}
        -:   56:
        1:   57:void Testmeanqueue_offer_circles_around_array_size(
        -:   58:    CuTest * tc
        -:   59:)
        -:   60:{
        -:   61:    void *qu;
        -:   62:
        1:   63:    qu = meanqueue_new(5);
        -:   64:
        1:   65:    meanqueue_offer(qu, 5);
        1:   66:    meanqueue_offer(qu, 0);
        1:   67:    meanqueue_offer(qu, 0);
        1:   68:    meanqueue_offer(qu, 0);
        1:   69:    meanqueue_offer(qu, 0);
        1:   70:    meanqueue_offer(qu, 0);
        1:   71:    CuAssertTrue(tc, 0 == meanqueue_get_value(qu));
        -:   72:
        1:   73:    meanqueue_free(qu);
        1:   74:}
